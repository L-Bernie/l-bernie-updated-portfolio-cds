{"version":3,"file":"side-panel.js","names":["LitElement","html","property","query","queryAssignedElements","state","prefix","HostListener","HostListenerMixin","SIDE_PANEL_SIZE","SIDE_PANEL_PLACEMENT","styles","selectorTabbable","carbonElement","customElement","ArrowLeft16","Close20","moderate02","PRECEDING","Node","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","FOLLOWING","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINED_BY","blockClass","blockClassActionSet","observeResize","observer","elem","observe","release","unobserve","tryFocusElems","elems","reverse","i","length","focus","ownerDocument","activeElement","CDSSidePanel","_decorate","_initialize","_HostListenerMixin","constructor","args","F","d","kind","key","value","decorators","slot","selector","target","relatedTarget","_this$shadowRoot","open","_startSentinelNode","startSentinelNode","_endSentinelNode","endSentinelNode","oldContains","contains","currentContains","shadowRoot","selectorTabbableForSidePanel","comparisonResult","compareDocumentPosition","_delay","querySelectorAll","_handleUserInitiatedClose","_window","window","matchMedia","matches","_handleClickOnOverlay","event","preventCloseOnClickOutside","_handleCloseClick","triggeredBy","init","bubbles","cancelable","composed","detail","dispatchEvent","CustomEvent","eventBeforeClose","eventClose","_handleNavigateBack","eventNavigateBack","selectorPageContent","pageContentEl","document","querySelector","newValues","marginInlineStart","marginInlineEnd","inlineSize","transition","_reducedMotion","transitionProperty","placement","_this$_sidePanel","_sidePanel","offsetWidth","_this$_sidePanel2","Object","keys","forEach","style","sidePanel","_isOpen","addEventListener","_this$shadowRoot2","slug","otherButtons","iconButtonSize","_this$querySelectorAl","actions","call","test","size","setAttribute","btn","_handleSlugChange","e","_checkUpdateIconButtonSizes","childItems","assignedElements","_hasSlug","_handleSubtitleChange","subtitle","_hasSubtitle","_handleActionToolbarChange","toolbarActions","_hasActionToolbar","toolbarAction","_actions","condensedActions","_handleActionsChange","_actions$length","actionsCount","_maxActions","_actionsCount","process","env","NODE_ENV","console","error","classList","add","_checkUpdateActionSizes","_this$title","canDoAnimateTitle","animateTitle","title","_this$_sidePanel3","scrollAnimationDistance","_getScrollAnimationDistance","setProperty","scrollEl","_animateScrollWrapper","_doAnimateTitle","_innerContent","_window2","innerComputed","getComputedStyle","innerPaddingHeight","parseFloat","paddingTop","paddingBottom","labelText","scrollHeight","clientHeight","ResizeObserver","_checkSetDoAnimateTitle","_this$_label$offsetHe","_this$_label","_this$_subtitle$offse","_this$_subtitle","labelHeight","_label","offsetHeight","subtitleHeight","_subtitle","titleVerticalBorder","_title","_this$_animateScrollW","_this$_animateScrollW2","_this$_sidePanel4","scrollTop","Math","min","_this$_animateScrollW3","scrollable","reflect","attribute","type","Boolean","Number","String","RIGHT","MEDIUM","connectObservers","updateComplete","_hObserveResize","_resizeObserver","disconnectObservers","connectedCallback","_superPropGet","disconnectedCallback","render","closeIconDescription","currentStep","includeOverlay","navigationBackIconDescription","slideIn","_t","_","actionsMultiple","titleTemplate","_t2","_t3","headerHasTitleClass","headerTemplate","_t4","_t5","_t6","mainTemplate","_t7","sidePanelAnimateTitleClass","_t8","_t9","_t10","_t11","updated","changedProperties","has","_handleCurrentStepUpdate","_this$_animateScrollW4","removeEventListener","_scrollObserver","_this$_animateScrollW5","_this$_sidePanel5","_adjustPageContent","_checkSetOpen","_launcher","focusNode","selectorInitialFocus","static","ms","Promise","resolve","setTimeout"],"sources":["components/side-panel/side-panel.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2023, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport {\n  property,\n  query,\n  queryAssignedElements,\n  state,\n} from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport HostListener from '../../globals/decorators/host-listener';\nimport HostListenerMixin from '../../globals/mixins/host-listener';\nimport { SIDE_PANEL_SIZE, SIDE_PANEL_PLACEMENT } from './defs';\nimport styles from './side-panel.scss';\nimport { selectorTabbable } from '../../globals/settings';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\nimport ArrowLeft16 from '@carbon/icons/lib/arrow--left/16';\nimport Close20 from '@carbon/icons/lib/close/20';\nimport { moderate02 } from '@carbon/motion';\nimport '../button/index';\nimport '../icon-button/index';\nimport '../layer/index';\nimport Handle from '../../globals/internal/handle';\nimport '../button/button-set-base';\n\nexport { SIDE_PANEL_SIZE, SIDE_PANEL_PLACEMENT };\n\n// eslint-disable-next-line no-bitwise\nconst PRECEDING =\n  Node.DOCUMENT_POSITION_PRECEDING | Node.DOCUMENT_POSITION_CONTAINS;\n// eslint-disable-next-line no-bitwise\nconst FOLLOWING =\n  Node.DOCUMENT_POSITION_FOLLOWING | Node.DOCUMENT_POSITION_CONTAINED_BY;\n\nconst blockClass = `${prefix}--side-panel`;\nconst blockClassActionSet = `${prefix}--action-set`;\n\n/**\n * Observes resize of the given element with the given resize observer.\n *\n * @param observer The resize observer.\n * @param elem The element to observe the resize.\n */\nconst observeResize = (observer: ResizeObserver, elem: Element) => {\n  if (!elem) {\n    return null;\n  }\n  observer.observe(elem);\n  return {\n    release() {\n      observer.unobserve(elem);\n      return null;\n    },\n  } as Handle;\n};\n\n/**\n * Tries to focus on the given elements and bails out if one of them is successful.\n *\n * @param elems The elements.\n * @param reverse `true` to go through the list in reverse order.\n * @returns `true` if one of the attempts is successful, `false` otherwise.\n */\nfunction tryFocusElems(elems: NodeListOf<HTMLElement>, reverse: boolean) {\n  if (!reverse) {\n    for (let i = 0; i < elems.length; ++i) {\n      const elem = elems[i];\n      elem.focus();\n      if (elem.ownerDocument!.activeElement === elem) {\n        return true;\n      }\n    }\n  } else {\n    for (let i = elems.length - 1; i >= 0; --i) {\n      const elem = elems[i];\n      elem.focus();\n      if (elem.ownerDocument!.activeElement === elem) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * SidePanel.\n *\n * @element cds-side-panel\n * @csspart dialog The dialog.\n * @fires cds-side-panel-beingclosed\n *   The custom event fired before this side-panel is being closed upon a user gesture.\n *   Cancellation of this event stops the user-initiated action of closing this side-panel.\n * @fires cds-side-panel-closed - The custom event fired after this side-panel is closed upon a user gesture.\n * @fires cds-side-panel-navigate-back - custom event fired when clicking navigate back (available when step > 0)\n */\n@customElement(`${prefix}-side-panel`)\nclass CDSSidePanel extends HostListenerMixin(LitElement) {\n  /**\n   * The handle for observing resize of the parent element of this element.\n   */\n  private _hObserveResize: Handle | null = null;\n\n  /**\n   * The element that had focus before this side-panel gets open.\n   */\n  private _launcher: Element | null = null;\n\n  /**\n   * Node to track focus going outside of side-panel content.\n   */\n  @query('#start-sentinel')\n  private _startSentinelNode!: HTMLAnchorElement;\n\n  /**\n   * Node to track focus going outside of side-panel content.\n   */\n  @query('#end-sentinel')\n  private _endSentinelNode!: HTMLAnchorElement;\n\n  /**\n   * Node to track side panel.\n   */\n  @query(`.${blockClass}`)\n  private _sidePanel!: HTMLDivElement;\n\n  @query(`.${blockClass}__animated-scroll-wrapper`)\n  private _animateScrollWrapper?: HTMLElement;\n\n  @query(`.${blockClass}__label-text`)\n  private _label!: HTMLElement;\n\n  @query(`.${blockClass}__title-text`)\n  private _title!: HTMLElement;\n\n  @query(`.${blockClass}__subtitle-text`)\n  private _subtitle!: HTMLElement;\n\n  @query(`.${blockClass}__inner-content`)\n  private _innerContent!: HTMLElement;\n\n  @queryAssignedElements({ slot: 'actions', selector: `${prefix}-button` })\n  private _actions!: Array<HTMLElement>;\n\n  @state()\n  _doAnimateTitle = true;\n\n  @state()\n  _isOpen = false;\n\n  @state()\n  _containerScrollTop = -16;\n\n  @state()\n  _hasSubtitle = false;\n\n  @state()\n  _hasSlug = false;\n\n  @state()\n  _hasActionToolbar = false;\n\n  @state()\n  _actionsCount = 0;\n\n  @state()\n  _slugCloseSize = 'sm';\n\n  /**\n   * Handles `blur` event on this element.\n   *\n   * @param event The event.\n   * @param event.target The event target.\n   * @param event.relatedTarget The event relatedTarget.\n   */\n  @HostListener('shadowRoot:focusout')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleBlur = async ({ target, relatedTarget }: FocusEvent) => {\n    const {\n      open,\n      _startSentinelNode: startSentinelNode,\n      _endSentinelNode: endSentinelNode,\n    } = this;\n\n    const oldContains = target !== this && this.contains(target as Node);\n    const currentContains =\n      relatedTarget !== this &&\n      (this.contains(relatedTarget as Node) ||\n        (this.shadowRoot?.contains(relatedTarget as Node) &&\n          relatedTarget !== (startSentinelNode as Node) &&\n          relatedTarget !== (endSentinelNode as Node)));\n\n    // Performs focus wrapping if _all_ of the following is met:\n    // * This side-panel is open\n    // * The viewport still has focus\n    // * SidePanel body used to have focus but no longer has focus\n    const { selectorTabbable: selectorTabbableForSidePanel } = this\n      .constructor as typeof CDSSidePanel;\n\n    if (open && relatedTarget && oldContains && !currentContains) {\n      const comparisonResult = (target as Node).compareDocumentPosition(\n        relatedTarget as Node\n      );\n      // eslint-disable-next-line no-bitwise\n      if (relatedTarget === startSentinelNode || comparisonResult & PRECEDING) {\n        await (this.constructor as typeof CDSSidePanel)._delay();\n        if (\n          !tryFocusElems(\n            this.querySelectorAll(selectorTabbableForSidePanel),\n            true\n          ) &&\n          relatedTarget !== this\n        ) {\n          this.focus();\n        }\n      }\n      // eslint-disable-next-line no-bitwise\n      else if (\n        relatedTarget === endSentinelNode ||\n        comparisonResult & FOLLOWING\n      ) {\n        await (this.constructor as typeof CDSSidePanel)._delay();\n        if (\n          !tryFocusElems(\n            this.querySelectorAll(selectorTabbableForSidePanel),\n            true\n          )\n        ) {\n          this.focus();\n        }\n      }\n    }\n  };\n\n  @HostListener('document:keydown')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleKeydown = ({ key, target }: KeyboardEvent) => {\n    if (key === 'Esc' || key === 'Escape') {\n      this._handleUserInitiatedClose(target);\n    }\n  };\n\n  private _reducedMotion =\n    typeof window !== 'undefined' && window?.matchMedia\n      ? window.matchMedia('(prefers-reduced-motion: reduce)')\n      : { matches: true };\n\n  /**\n   * Handles `click` event on the side-panel container.\n   *\n   * @param event The event.\n   */\n  private _handleClickOnOverlay(event: MouseEvent) {\n    if (!this.preventCloseOnClickOutside) {\n      this._handleUserInitiatedClose(event.target);\n    }\n  }\n\n  /**\n   * Handles `click` event on the side-panel container.\n   *\n   * @param event The event.\n   */\n  private _handleCloseClick(event: MouseEvent) {\n    this._handleUserInitiatedClose(event.target);\n  }\n\n  /**\n   * Handles user-initiated close request of this side-panel.\n   *\n   * @param triggeredBy The element that triggered this close request.\n   */\n  private _handleUserInitiatedClose(triggeredBy: EventTarget | null) {\n    if (this.open) {\n      const init = {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: {\n          triggeredBy,\n        },\n      };\n      if (\n        this.dispatchEvent(\n          new CustomEvent(\n            (this.constructor as typeof CDSSidePanel).eventBeforeClose,\n            init\n          )\n        )\n      ) {\n        this.open = false;\n        this.dispatchEvent(\n          new CustomEvent(\n            (this.constructor as typeof CDSSidePanel).eventClose,\n            init\n          )\n        );\n      }\n    }\n  }\n\n  private _handleNavigateBack(triggeredBy: EventTarget | null) {\n    this.dispatchEvent(\n      new CustomEvent(\n        (this.constructor as typeof CDSSidePanel).eventNavigateBack,\n        {\n          composed: true,\n          detail: {\n            triggeredBy,\n          },\n        }\n      )\n    );\n  }\n\n  private _adjustPageContent = () => {\n    // sets/resets styles based on slideIn property and selectorPageContent;\n    if (this.selectorPageContent) {\n      const pageContentEl: HTMLElement | null = document.querySelector(\n        this.selectorPageContent\n      );\n\n      if (pageContentEl) {\n        const newValues = {\n          marginInlineStart: '',\n          marginInlineEnd: '',\n          inlineSize: '',\n          transition: this._reducedMotion.matches\n            ? 'none'\n            : `all ${moderate02}`,\n          transitionProperty: 'margin-inline-start, margin-inline-end',\n        };\n        if (this.open) {\n          newValues.inlineSize = 'auto';\n          if (this.placement === 'left') {\n            newValues.marginInlineStart = `${this?._sidePanel?.offsetWidth}px`;\n          } else {\n            newValues.marginInlineEnd = `${this?._sidePanel?.offsetWidth}px`;\n          }\n        }\n\n        Object.keys(newValues).forEach((key) => {\n          pageContentEl.style[key] = newValues[key];\n        });\n      }\n    }\n  };\n\n  private _checkSetOpen = () => {\n    const { _sidePanel: sidePanel } = this;\n    if (sidePanel && this._isOpen) {\n      if (this._reducedMotion) {\n        this._isOpen = false;\n      } else {\n        // wait until the side panel has transitioned off the screen to remove\n        sidePanel.addEventListener('transitionend', () => {\n          this._isOpen = false;\n        });\n      }\n    } else {\n      // allow the html to render before animating in the side panel\n      this._isOpen = this.open;\n    }\n  };\n\n  private _checkUpdateIconButtonSizes = () => {\n    const slug = this.querySelector(`${prefix}-slug`);\n    const otherButtons = this?.shadowRoot?.querySelectorAll(\n      '#nav-back-button, #close-button'\n    );\n\n    let iconButtonSize = 'sm';\n\n    if (slug || otherButtons?.length) {\n      const actions = this?.querySelectorAll?.(\n        `${prefix}-button[slot='actions']`\n      );\n\n      if (actions?.length && /l/.test(this.size)) {\n        iconButtonSize = 'md';\n      }\n    }\n\n    if (slug) {\n      slug?.setAttribute('size', iconButtonSize);\n    }\n\n    if (otherButtons) {\n      [...otherButtons].forEach((btn) => {\n        btn.setAttribute('size', iconButtonSize);\n      });\n    }\n  };\n\n  private _handleSlugChange(e: Event) {\n    this._checkUpdateIconButtonSizes();\n    const childItems = (e.target as HTMLSlotElement).assignedElements();\n\n    this._hasSlug = childItems.length > 0;\n  }\n\n  private _handleSubtitleChange(e: Event) {\n    const target = e.target as HTMLSlotElement;\n    const subtitle = target?.assignedElements();\n\n    this._hasSubtitle = subtitle.length > 0;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private _handleActionToolbarChange(e: Event) {\n    const target = e.target as HTMLSlotElement;\n    const toolbarActions = target?.assignedElements();\n\n    this._hasActionToolbar = toolbarActions && toolbarActions.length > 0;\n\n    if (this._hasActionToolbar) {\n      for (const toolbarAction of toolbarActions) {\n        // toolbar actions size should always be sm\n        toolbarAction.setAttribute('size', 'sm');\n      }\n    }\n  }\n\n  private _checkUpdateActionSizes = () => {\n    if (this._actions) {\n      for (let i = 0; i < this._actions.length; i++) {\n        this._actions[i].setAttribute(\n          'size',\n          this.condensedActions ? 'lg' : 'xl'\n        );\n      }\n    }\n  };\n\n  private _maxActions = 3;\n  private _handleActionsChange(e: Event) {\n    const target = e.target as HTMLSlotElement;\n    const actions = target?.assignedElements();\n\n    // update slug size\n    this._checkUpdateIconButtonSizes();\n\n    const actionsCount = actions?.length ?? 0;\n    if (actionsCount > this._maxActions) {\n      this._actionsCount = this._maxActions;\n      if (process.env.NODE_ENV === 'development') {\n        console.error(`Too many side-panel actions, max ${this._maxActions}.`);\n      }\n    } else {\n      this._actionsCount = actionsCount;\n    }\n\n    for (let i = 0; i < actions?.length; i++) {\n      if (i + 1 > this._maxActions) {\n        // hide excessive side panel actions\n        actions[i].setAttribute('hidden', 'true');\n        actions[i].setAttribute(\n          `data-actions-limit-${this._maxActions}-exceeded`,\n          `${actions.length}`\n        );\n      } else {\n        actions[i].classList.add(`${blockClassActionSet}__action-button`);\n      }\n    }\n    this._checkUpdateActionSizes();\n  }\n\n  private _checkSetDoAnimateTitle = () => {\n    let canDoAnimateTitle = false;\n\n    if (\n      this._sidePanel &&\n      this.open &&\n      this.animateTitle &&\n      this?.title?.length &&\n      !this._reducedMotion.matches\n    ) {\n      const scrollAnimationDistance = this._getScrollAnimationDistance();\n      // used to calculate the header moves\n      this?._sidePanel?.style?.setProperty(\n        `--${blockClass}--scroll-animation-distance`,\n        `${scrollAnimationDistance}`\n      );\n\n      let scrollEl = this._animateScrollWrapper;\n      if (!scrollEl && this.animateTitle && !this._doAnimateTitle) {\n        scrollEl = this._innerContent;\n      }\n\n      if (scrollEl) {\n        const innerComputed = window?.getComputedStyle(this._innerContent);\n        const innerPaddingHeight = innerComputed\n          ? parseFloat(innerComputed?.paddingTop) +\n            parseFloat(innerComputed?.paddingBottom)\n          : 0;\n\n        canDoAnimateTitle =\n          (!!this.labelText || !!this._hasActionToolbar || this._hasSubtitle) &&\n          scrollEl.scrollHeight - scrollEl.clientHeight >=\n            scrollAnimationDistance + innerPaddingHeight;\n      }\n    }\n\n    this._doAnimateTitle = canDoAnimateTitle;\n  };\n\n  /**\n   * The `ResizeObserver` instance for observing element resizes for re-positioning floating menu position.\n   */\n  // TODO: Wait for `.d.ts` update to support `ResizeObserver`\n  // @ts-ignore\n  private _resizeObserver = new ResizeObserver(() => {\n    if (this._sidePanel) {\n      this._checkSetDoAnimateTitle();\n    }\n  });\n\n  private _getScrollAnimationDistance = () => {\n    const labelHeight = this?._label?.offsetHeight ?? 0;\n    const subtitleHeight = this?._subtitle?.offsetHeight ?? 0;\n    const titleVerticalBorder = this._hasActionToolbar\n      ? this._title.offsetHeight - this._title.clientHeight\n      : 0;\n\n    return labelHeight + subtitleHeight + titleVerticalBorder;\n  };\n\n  private _scrollObserver = () => {\n    const scrollTop = this._animateScrollWrapper?.scrollTop ?? 0;\n    const scrollAnimationDistance = this._getScrollAnimationDistance();\n    this?._sidePanel?.style?.setProperty(\n      `--${blockClass}--scroll-animation-progress`,\n      `${\n        Math.min(scrollTop, scrollAnimationDistance) / scrollAnimationDistance\n      }`\n    );\n  };\n\n  private _handleCurrentStepUpdate = () => {\n    const scrollable = this._animateScrollWrapper ?? this._innerContent;\n    if (scrollable) {\n      scrollable.scrollTop = 0;\n    }\n  };\n\n  /**\n   * Determines if the title will animate on scroll\n   */\n  @property({ reflect: true, attribute: 'animate-title', type: Boolean })\n  animateTitle = true;\n\n  /**\n   * Sets the close button icon description\n   */\n  @property({ reflect: true, attribute: 'close-icon-description' })\n  closeIconDescription = 'Close';\n\n  /**\n   * Determines whether the side panel should render the condensed version (affects action buttons primarily)\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'condensed-actions' })\n  condensedActions = false;\n\n  /**\n   * Sets the current step of the side panel\n   */\n  @property({ reflect: true, attribute: 'current-step', type: Number })\n  currentStep;\n\n  /**\n   * Determines whether the side panel should render with an overlay\n   */\n  @property({ attribute: 'include-overlay', type: Boolean, reflect: true })\n  includeOverlay = false;\n\n  /**\n   * Sets the label text which will display above the title text\n   */\n  @property({ reflect: true, attribute: 'label-text' })\n  labelText;\n\n  /**\n   * Sets the icon description for the navigation back icon button\n   */\n  @property({ reflect: true, attribute: 'navigation-back-icon-description' })\n  navigationBackIconDescription = 'Back';\n\n  /**\n   * `true` if the side-panel should be open.\n   */\n  @property({ type: Boolean, reflect: true })\n  open = false;\n\n  /**\n   * SidePanel placement.\n   */\n  @property({ reflect: true, type: String })\n  placement = SIDE_PANEL_PLACEMENT.RIGHT;\n\n  /**\n   * Prevent closing on click outside of side-panel\n   */\n  @property({ type: Boolean, attribute: 'prevent-close-on-click-outside' })\n  preventCloseOnClickOutside = false;\n\n  /**\n   * The initial location of focus in the side panel\n   */\n  @property({\n    reflect: true,\n    attribute: 'selector-initial-focus',\n    type: String,\n  })\n  selectorInitialFocus;\n\n  /**\n   * Selector for page content, used to push content to side except\n   */\n  @property({ reflect: true, attribute: 'selector-page-content' })\n  selectorPageContent = '';\n\n  /**\n   * SidePanel size.\n   */\n  @property({ reflect: true, type: String })\n  size = SIDE_PANEL_SIZE.MEDIUM;\n\n  /**\n   * Determines if this panel slides in\n   */\n  @property({ attribute: 'slide-in', type: Boolean, reflect: true })\n  slideIn = false;\n\n  /**\n   * Sets the title text\n   */\n  @property({ reflect: false, type: String })\n  title;\n\n  async connectObservers() {\n    await this.updateComplete;\n    this._hObserveResize = observeResize(this._resizeObserver, this._sidePanel);\n  }\n\n  disconnectObservers() {\n    if (this._hObserveResize) {\n      this._hObserveResize = this._hObserveResize.release();\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.disconnectObservers();\n    this.connectObservers();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.disconnectObservers();\n  }\n\n  render() {\n    const {\n      closeIconDescription,\n      condensedActions,\n      currentStep,\n      includeOverlay,\n      labelText,\n      navigationBackIconDescription,\n      open,\n      placement,\n      size,\n      slideIn,\n      title,\n    } = this;\n\n    if (!open && !this._isOpen) {\n      return html``;\n    }\n\n    const actionsMultiple = ['', 'single', 'double', 'triple'][\n      this._actionsCount\n    ];\n\n    const titleTemplate = html`<div\n      class=${`${blockClass}__title`}\n      ?no-label=${!!labelText}>\n      <h2 class=${title ? `${blockClass}__title-text` : ''} title=${title}>\n        ${title}\n      </h2>\n\n      ${this._doAnimateTitle\n        ? html`<h2\n            class=${`${blockClass}__collapsed-title-text`}\n            title=${title}\n            aria-hidden=\"true\">\n            ${title}\n          </h2>`\n        : ''}\n    </div>`;\n\n    const headerHasTitleClass = this.title\n      ? ` ${blockClass}__header--has-title `\n      : '';\n    const headerTemplate = html`\n      <div\n        class=${`${blockClass}__header${headerHasTitleClass}`}\n        ?detail-step=${currentStep > 0}\n        ?no-title-animation=${!this._doAnimateTitle}\n        ?reduced-motion=${this._reducedMotion.matches}>\n        <!-- render back button -->\n        ${currentStep > 0\n          ? html`<cds-icon-button\n              align=\"bottom-left\"\n              aria-label=${navigationBackIconDescription}\n              kind=\"ghost\"\n              size=\"sm\"\n              class=${`${prefix}--btn ${blockClass}__navigation-back-button`}\n              @click=${this._handleNavigateBack}>\n              ${ArrowLeft16({ slot: 'icon' })}\n              <span slot=\"tooltip-content\">\n                ${navigationBackIconDescription}\n              </span>\n            </cds-icon-button>`\n          : ''}\n\n        <!-- render title label -->\n        ${title?.length && labelText?.length\n          ? html` <p class=${`${blockClass}__label-text`}>${labelText}</p>`\n          : ''}\n\n        <!-- title -->\n        ${title ? titleTemplate : ''}\n\n        <!-- render slug and close button area -->\n        <div class=${`${blockClass}__slug-and-close`}>\n          <slot name=\"slug\" @slotchange=${this._handleSlugChange}></slot>\n          <!-- {normalizedSlug} -->\n          <cds-icon-button\n            align=\"bottom-right\"\n            aria-label=${closeIconDescription}\n            kind=\"ghost\"\n            size=\"sm\"\n            class=${`${blockClass}__close-button`}\n            @click=${this._handleCloseClick}>\n            ${Close20({ slot: 'icon' })}\n            <span slot=\"tooltip-content\"> ${closeIconDescription} </span>\n          </cds-icon-button>\n        </div>\n\n        <!-- render sub title -->\n        <p\n          class=${this._hasSubtitle ? `${blockClass}__subtitle-text` : ''}\n          ?hidden=${!this._hasSubtitle}\n          ?no-title-animation=${!this._doAnimateTitle}\n          ?no-action-toolbar=${!this._hasActionToolbar}\n          ?no-title=${!title}>\n          <slot\n            name=\"subtitle\"\n            @slotchange=${this._handleSubtitleChange}></slot>\n        </p>\n\n        <div\n          class=${this._hasActionToolbar ? `${blockClass}__action-toolbar` : ''}\n          ?hidden=${!this._hasActionToolbar}\n          ?no-title-animation=${!this._doAnimateTitle}>\n          <slot\n            name=\"action-toolbar\"\n            @slotchange=${this._handleActionToolbarChange}></slot>\n        </div>\n      </div>\n    `;\n\n    const mainTemplate = html`<div\n      class=${`${blockClass}__inner-content`}\n      ?scrolls=${!this._doAnimateTitle}>\n      <cds-layer level=\"1\">\n        <slot></slot>\n      </cds-layer>\n    </div> `;\n\n    const sidePanelAnimateTitleClass = this._doAnimateTitle\n      ? ` ${blockClass}--animated-title`\n      : '';\n\n    return html`\n      <div\n        class=${`${blockClass}${sidePanelAnimateTitleClass}`}\n        part=\"dialog\"\n        role=\"complementary\"\n        placement=\"${placement}\"\n        ?has-slug=${this._hasSlug}\n        ?open=${this._isOpen}\n        ?opening=${open && !this._isOpen}\n        ?closing=${!open && this._isOpen}\n        ?condensed-actions=${condensedActions}\n        ?overlay=${includeOverlay || slideIn}\n        ?slide-in=${slideIn}\n        size=${size}>\n        <a\n          id=\"start-sentinel\"\n          class=\"sentinel\"\n          hidden\n          href=\"javascript:void 0\"\n          role=\"navigation\"></a>\n\n        ${this._doAnimateTitle\n          ? html`<div class=${`${blockClass}__animated-scroll-wrapper`} scrolls>\n              ${headerTemplate} ${mainTemplate}\n            </div>`\n          : html` ${headerTemplate} ${mainTemplate}`}\n\n        <cds-button-set-base\n          class=${`${blockClass}__actions-container`}\n          ?hidden=${this._actionsCount === 0}\n          ?condensed=${condensedActions}\n          actions-multiple=${actionsMultiple}\n          size=${size}>\n          <slot name=\"actions\" @slotchange=${this._handleActionsChange}></slot>\n        </cds-button-set-base>\n\n        <a\n          id=\"end-sentinel\"\n          class=\"sentinel\"\n          hidden\n          href=\"javascript:void 0\"\n          role=\"navigation\"></a>\n      </div>\n\n      ${includeOverlay\n        ? html`<div\n            ?slide-in=${slideIn}\n            class=${`${blockClass}__overlay`}\n            ?open=${this.open}\n            ?opening=${open && !this._isOpen}\n            ?closing=${!open && this._isOpen}\n            tabindex=\"-1\"\n            @click=${this._handleClickOnOverlay}></div>`\n        : ''}\n    `;\n  }\n\n  async updated(changedProperties) {\n    if (changedProperties.has('condensedActions')) {\n      this._checkUpdateActionSizes();\n    }\n\n    if (changedProperties.has('currentStep')) {\n      this._handleCurrentStepUpdate();\n    }\n\n    if (changedProperties.has('_doAnimateTitle')) {\n      this?._animateScrollWrapper?.removeEventListener(\n        'scroll',\n        this._scrollObserver\n      );\n\n      if (this._doAnimateTitle) {\n        this?._animateScrollWrapper?.addEventListener(\n          'scroll',\n          this._scrollObserver\n        );\n      } else {\n        this?._sidePanel?.style?.setProperty(\n          `--${blockClass}--scroll-animation-progress`,\n          '0'\n        );\n      }\n    }\n\n    if (\n      changedProperties.has('_isOpen') ||\n      changedProperties.has('animateTitle')\n    ) {\n      /* @state property changed */\n      this._checkSetDoAnimateTitle();\n    }\n\n    if (\n      changedProperties.has('slideIn') ||\n      changedProperties.has('open') ||\n      changedProperties.has('includeOverlay')\n    ) {\n      this._adjustPageContent();\n    }\n\n    if (changedProperties.has('open')) {\n      this._checkSetOpen();\n\n      this.disconnectObservers();\n      if (this.open) {\n        this.connectObservers();\n\n        this._launcher = this.ownerDocument!.activeElement;\n        const focusNode =\n          this.selectorInitialFocus &&\n          this.querySelector(this.selectorInitialFocus);\n\n        await (this.constructor as typeof CDSSidePanel)._delay();\n        if (focusNode) {\n          // For cases where a `carbon-web-components` component (e.g. `<cds-button>`) being `primaryFocusNode`,\n          // where its first update/render cycle that makes it focusable happens after `<cds-side-panel>`'s first update/render cycle\n          (focusNode as HTMLElement).focus();\n        } else if (\n          !tryFocusElems(\n            this.querySelectorAll(\n              (this.constructor as typeof CDSSidePanel).selectorTabbable\n            ),\n            true\n          )\n        ) {\n          this.focus();\n        }\n      } else if (\n        this._launcher &&\n        typeof (this._launcher as HTMLElement).focus === 'function'\n      ) {\n        (this._launcher as HTMLElement).focus();\n        this._launcher = null;\n      }\n    }\n  }\n\n  /**\n   * @param ms The number of milliseconds.\n   * @returns A promise that is resolves after the given milliseconds.\n   */\n  private static _delay(ms = 0) {\n    return new Promise((resolve) => {\n      setTimeout(resolve, ms);\n    });\n  }\n\n  /**\n   * A selector selecting tabbable nodes.\n   */\n  static get selectorTabbable() {\n    return selectorTabbable;\n  }\n\n  /**\n   * The name of the custom event fired before this side-panel is being closed upon a user gesture.\n   * Cancellation of this event stops the user-initiated action of closing this side-panel.\n   */\n  static get eventBeforeClose() {\n    return `${prefix}-side-panel-beingclosed`;\n  }\n\n  /**\n   * The name of the custom event fired after this side-panel is closed upon a user gesture.\n   */\n  static get eventClose() {\n    return `${prefix}-side-panel-closed`;\n  }\n\n  /**\n   * The name of the custom event fired on clicking the navigate back button\n   */\n  static get eventNavigateBack() {\n    return `${prefix}-side-panel-navigate-back`;\n  }\n\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSSidePanel;\n"],"mappings":"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","ignoreList":[]}