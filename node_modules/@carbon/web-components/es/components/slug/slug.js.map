{"version":3,"file":"slug.js","names":["classMap","html","property","prefix","CDSToggleTip","styles","Undo16","SLUG_SIZE","SLUG_KIND","carbonElement","customElement","CDSSlug","_decorate","_initialize","_CDSToggleTip","constructor","args","F","d","kind","decorators","reflect","key","value","attribute","DEFAULT","type","Boolean","EXTRA_SMALL","revertActive","removeAttribute","open","_t","_","size","aiText","aiTextLabel","slugLabel","ariaLabel","classes","INLINE","_t2","id","_handleClick","_t3","autoalign","revertLabel","_t4","_t5","slot","_t6","_renderTooltipButton","_renderTooltipContent","attributeChangedCallback","name","old","newValue","_this$parentElement","_superPropGet","parentElement","requestUpdate","static","default"],"sources":["components/slug/slug.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport CDSToggleTip from '../toggle-tip/toggletip';\nimport styles from './slug.scss';\nimport Undo16 from '@carbon/icons/lib/undo/16';\nimport { SLUG_SIZE, SLUG_KIND } from './defs';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Basic slug.\n *\n * @element cds-slug\n */\n@customElement(`${prefix}-slug`)\nexport default class CDSSlug extends CDSToggleTip {\n  @property({ reflect: true })\n  slot = 'slug';\n  /**\n   * Specify the correct translation of the AI text\n   */\n  @property({ attribute: 'ai-text' })\n  aiText = 'AI';\n\n  /**\n   * Specify additional text to be rendered next to the AI label in the inline variant\n   */\n  @property({ attribute: 'ai-text-label' })\n  aiTextLabel = '';\n\n  /**\n   * Specify the type of Slug, from the following list of types: (default, inline)\n   */\n  @property({ reflect: true })\n  kind = SLUG_KIND.DEFAULT;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ type: Boolean, attribute: 'revert-active' })\n  revertActive = false;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ attribute: 'revert-label' })\n  revertLabel = 'Revert to AI input';\n\n  /**\n   * Slug size should be mini, 2xs, xs, sm, md, lg, xl.\n   */\n  @property({ reflect: true })\n  size = SLUG_SIZE.EXTRA_SMALL;\n\n  /**\n   * Specify the text that will be provided to the aria-label of the `Slug` button\n   */\n  @property({ attribute: 'slug-label' })\n  slugLabel = 'Show information';\n\n  @property()\n  previousValue;\n\n  protected _handleClick = () => {\n    if (this.revertActive) {\n      this.revertActive = false;\n      this.removeAttribute('revert-active');\n    } else {\n      this.open = !this.open;\n    }\n  };\n\n  protected _renderToggleTipLabel = () => {\n    return html``;\n  };\n\n  protected _renderTooltipButton = () => {\n    const { size, kind, aiText, aiTextLabel, slugLabel } = this;\n    const ariaLabel = `${aiText} - ${slugLabel}`;\n    const classes = classMap({\n      [`${prefix}--toggletip-button`]: true,\n      [`${prefix}--slug__button`]: true,\n      [`${prefix}--slug__button--${size}`]: size,\n      [`${prefix}--slug__button--${kind}`]: kind,\n      [`${prefix}--slug__button--inline-with-content`]:\n        kind === SLUG_KIND.INLINE && aiTextLabel,\n    });\n    return html`\n      <button\n        aria-controls=\"${this.id}\"\n        @click=\"${this._handleClick}\"\n        class=${classes}\n        aria-label=\"${ariaLabel}\">\n        <span class=\"${prefix}--slug__text\">${aiText}</span>\n        ${aiTextLabel && kind === SLUG_KIND.INLINE\n          ? html`\n              <span class=\"${prefix}--slug__additional-text\">\n                ${aiTextLabel}\n              </span>\n            `\n          : ``}\n      </button>\n    `;\n  };\n\n  protected _renderInnerContent = () => {\n    const { autoalign, revertActive, revertLabel } = this;\n    return html`\n      ${revertActive\n        ? html`\n            <cds-icon-button\n              ?autoalign=${autoalign}\n              kind=\"ghost\"\n              size=\"sm\"\n              @click=\"${this._handleClick}\">\n              <span slot=\"tooltip-content\"> ${revertLabel} </span>\n              ${Undo16({ slot: 'icon' })}\n            </cds-icon-button>\n          `\n        : html`\n            ${this._renderTooltipButton()} ${this._renderTooltipContent()}\n          `}\n    `;\n  };\n\n  attributeChangedCallback(name, old, newValue) {\n    super.attributeChangedCallback(name, old, newValue);\n\n    //@ts-ignore typescript does not think requestUpdate() exists on parentElement\n    name === 'revert-active' ? this.parentElement?.requestUpdate() : ``;\n  }\n\n  static styles = styles;\n}\n"],"mappings":"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","ignoreList":[]}